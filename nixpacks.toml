[phases.setup]
providers = [
    "nodejs_18",
    "npm-9_x",
    "openssl",
    "curl",
    "wget"
]
cmds = [
    "npx prisma generate",
    "npx prisma db push || true",
    "npx prisma migrate dev || true"
]

[phases.install]
cmds = ["npm ci --legacy-peer-deps"]

[phases.build]
cmds = [
    "npm run build",
    "npm run prisma:seed"
]

[start]
cmd = "npm run start"